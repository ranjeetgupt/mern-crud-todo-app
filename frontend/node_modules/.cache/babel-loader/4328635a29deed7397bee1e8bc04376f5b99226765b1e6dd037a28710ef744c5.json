{"ast":null,"code":"import React,{useEffect,useState}from'react';import API from'./api';import TodoTable from'./components/TodoTable';import TodoForm from'./components/TodoForm';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[list,setList]=useState([]);const[editing,setEditing]=useState(null);const fetchList=async()=>{const res=await API.get('/');setList(res.data);};useEffect(()=>{fetchList();},[]);const handleAdd=async data=>{const res=await API.post('/',data);setList(prev=>[res.data,...prev]);};const handleUpdate=async data=>{const res=await API.put(\"/\".concat(data._id),data);setList(prev=>prev.map(item=>item._id===res.data._id?res.data:item));setEditing(null);};const handleDelete=async id=>{if(!window.confirm('Delete?'))return;await API.delete(\"/\".concat(id));setList(prev=>prev.filter(i=>i._id!==id));};const handleRead=item=>alert(JSON.stringify(item,null,2));const handleEdit=item=>setEditing(item);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:900,margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Todo CRUD (MERN)\"}),/*#__PURE__*/_jsx(TodoForm,{onSubmit:editing?handleUpdate:handleAdd,editing:editing}),/*#__PURE__*/_jsx(TodoTable,{data:list,onRead:handleRead,onEdit:handleEdit,onDelete:handleDelete})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","API","TodoTable","TodoForm","jsx","_jsx","jsxs","_jsxs","App","list","setList","editing","setEditing","fetchList","res","get","data","handleAdd","post","prev","handleUpdate","put","concat","_id","map","item","handleDelete","id","window","confirm","delete","filter","i","handleRead","alert","JSON","stringify","handleEdit","style","maxWidth","margin","children","onSubmit","onRead","onEdit","onDelete"],"sources":["D:/Download/mern_full/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport API from './api';\r\nimport TodoTable from './components/TodoTable';\r\nimport TodoForm from './components/TodoForm';\r\nimport './index.css';\r\n\r\n\r\nfunction App() {\r\nconst [list, setList] = useState([]);\r\nconst [editing, setEditing] = useState(null);\r\n\r\n\r\nconst fetchList = async () => {\r\nconst res = await API.get('/');\r\nsetList(res.data);\r\n};\r\n\r\n\r\nuseEffect(() => { fetchList(); }, []);\r\n\r\n\r\nconst handleAdd = async (data) => {\r\nconst res = await API.post('/', data);\r\nsetList(prev => [res.data, ...prev]);\r\n};\r\n\r\n\r\nconst handleUpdate = async (data) => {\r\nconst res = await API.put(`/${data._id}`, data);\r\nsetList(prev => prev.map(item => item._id === res.data._id ? res.data : item));\r\nsetEditing(null);\r\n};\r\n\r\n\r\nconst handleDelete = async (id) => {\r\nif (!window.confirm('Delete?')) return;\r\nawait API.delete(`/${id}`);\r\nsetList(prev => prev.filter(i => i._id !== id));\r\n};\r\n\r\n\r\nconst handleRead = (item) => alert(JSON.stringify(item, null, 2));\r\nconst handleEdit = (item) => setEditing(item);\r\n\r\n\r\nreturn (\r\n<div style={{ maxWidth: 900, margin: '0 auto' }}>\r\n<h2>Todo CRUD (MERN)</h2>\r\n<TodoForm onSubmit={editing ? handleUpdate : handleAdd} editing={editing} />\r\n<TodoTable data={list} onRead={handleRead} onEdit={handleEdit} onDelete={handleDelete} />\r\n</div>\r\n);\r\n}\r\n\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}